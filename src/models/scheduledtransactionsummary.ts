/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { remap as remap$ } from "../lib/primitives.js";
import { safeParse } from "../lib/schemas.js";
import { ClosedEnum } from "../types/enums.js";
import { Result as SafeParseResult } from "../types/fp.js";
import { RFCDate } from "../types/rfcdate.js";
import { SDKValidationError } from "./errors/sdkvalidationerror.js";
import {
  TransactionFlagColor,
  TransactionFlagColor$inboundSchema,
  TransactionFlagColor$outboundSchema,
} from "./transactionflagcolor.js";

export const ScheduledTransactionSummaryFrequency = {
  Never: "never",
  Daily: "daily",
  Weekly: "weekly",
  EveryOtherWeek: "everyOtherWeek",
  TwiceAMonth: "twiceAMonth",
  Every4Weeks: "every4Weeks",
  Monthly: "monthly",
  EveryOtherMonth: "everyOtherMonth",
  Every3Months: "every3Months",
  Every4Months: "every4Months",
  TwiceAYear: "twiceAYear",
  Yearly: "yearly",
  EveryOtherYear: "everyOtherYear",
} as const;
export type ScheduledTransactionSummaryFrequency = ClosedEnum<
  typeof ScheduledTransactionSummaryFrequency
>;

export type ScheduledTransactionSummary = {
  id: string;
  /**
   * The first date for which the Scheduled Transaction was scheduled.
   */
  dateFirst: RFCDate;
  /**
   * The next date for which the Scheduled Transaction is scheduled.
   */
  dateNext: RFCDate;
  frequency: ScheduledTransactionSummaryFrequency;
  /**
   * The scheduled transaction amount in milliunits format
   */
  amount: number;
  memo?: string | null | undefined;
  /**
   * The transaction flag
   */
  flagColor?: TransactionFlagColor | null | undefined;
  /**
   * The customized name of a transaction flag
   */
  flagName?: string | null | undefined;
  accountId: string;
  payeeId?: string | null | undefined;
  categoryId?: string | null | undefined;
  /**
   * If a transfer, the account_id which the scheduled transaction transfers to
   */
  transferAccountId?: string | null | undefined;
  /**
   * Whether or not the scheduled transaction has been deleted.  Deleted scheduled transactions will only be included in delta requests.
   */
  deleted: boolean;
};

/** @internal */
export const ScheduledTransactionSummaryFrequency$inboundSchema:
  z.ZodNativeEnum<typeof ScheduledTransactionSummaryFrequency> = z.nativeEnum(
    ScheduledTransactionSummaryFrequency,
  );

/** @internal */
export const ScheduledTransactionSummaryFrequency$outboundSchema:
  z.ZodNativeEnum<typeof ScheduledTransactionSummaryFrequency> =
    ScheduledTransactionSummaryFrequency$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace ScheduledTransactionSummaryFrequency$ {
  /** @deprecated use `ScheduledTransactionSummaryFrequency$inboundSchema` instead. */
  export const inboundSchema =
    ScheduledTransactionSummaryFrequency$inboundSchema;
  /** @deprecated use `ScheduledTransactionSummaryFrequency$outboundSchema` instead. */
  export const outboundSchema =
    ScheduledTransactionSummaryFrequency$outboundSchema;
}

/** @internal */
export const ScheduledTransactionSummary$inboundSchema: z.ZodType<
  ScheduledTransactionSummary,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string(),
  date_first: z.string().transform(v => new RFCDate(v)),
  date_next: z.string().transform(v => new RFCDate(v)),
  frequency: ScheduledTransactionSummaryFrequency$inboundSchema,
  amount: z.number().int(),
  memo: z.nullable(z.string()).optional(),
  flag_color: z.nullable(TransactionFlagColor$inboundSchema).optional(),
  flag_name: z.nullable(z.string()).optional(),
  account_id: z.string(),
  payee_id: z.nullable(z.string()).optional(),
  category_id: z.nullable(z.string()).optional(),
  transfer_account_id: z.nullable(z.string()).optional(),
  deleted: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    "date_first": "dateFirst",
    "date_next": "dateNext",
    "flag_color": "flagColor",
    "flag_name": "flagName",
    "account_id": "accountId",
    "payee_id": "payeeId",
    "category_id": "categoryId",
    "transfer_account_id": "transferAccountId",
  });
});

/** @internal */
export type ScheduledTransactionSummary$Outbound = {
  id: string;
  date_first: string;
  date_next: string;
  frequency: string;
  amount: number;
  memo?: string | null | undefined;
  flag_color?: string | null | undefined;
  flag_name?: string | null | undefined;
  account_id: string;
  payee_id?: string | null | undefined;
  category_id?: string | null | undefined;
  transfer_account_id?: string | null | undefined;
  deleted: boolean;
};

/** @internal */
export const ScheduledTransactionSummary$outboundSchema: z.ZodType<
  ScheduledTransactionSummary$Outbound,
  z.ZodTypeDef,
  ScheduledTransactionSummary
> = z.object({
  id: z.string(),
  dateFirst: z.instanceof(RFCDate).transform(v => v.toString()),
  dateNext: z.instanceof(RFCDate).transform(v => v.toString()),
  frequency: ScheduledTransactionSummaryFrequency$outboundSchema,
  amount: z.number().int(),
  memo: z.nullable(z.string()).optional(),
  flagColor: z.nullable(TransactionFlagColor$outboundSchema).optional(),
  flagName: z.nullable(z.string()).optional(),
  accountId: z.string(),
  payeeId: z.nullable(z.string()).optional(),
  categoryId: z.nullable(z.string()).optional(),
  transferAccountId: z.nullable(z.string()).optional(),
  deleted: z.boolean(),
}).transform((v) => {
  return remap$(v, {
    dateFirst: "date_first",
    dateNext: "date_next",
    flagColor: "flag_color",
    flagName: "flag_name",
    accountId: "account_id",
    payeeId: "payee_id",
    categoryId: "category_id",
    transferAccountId: "transfer_account_id",
  });
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace ScheduledTransactionSummary$ {
  /** @deprecated use `ScheduledTransactionSummary$inboundSchema` instead. */
  export const inboundSchema = ScheduledTransactionSummary$inboundSchema;
  /** @deprecated use `ScheduledTransactionSummary$outboundSchema` instead. */
  export const outboundSchema = ScheduledTransactionSummary$outboundSchema;
  /** @deprecated use `ScheduledTransactionSummary$Outbound` instead. */
  export type Outbound = ScheduledTransactionSummary$Outbound;
}

export function scheduledTransactionSummaryToJSON(
  scheduledTransactionSummary: ScheduledTransactionSummary,
): string {
  return JSON.stringify(
    ScheduledTransactionSummary$outboundSchema.parse(
      scheduledTransactionSummary,
    ),
  );
}

export function scheduledTransactionSummaryFromJSON(
  jsonString: string,
): SafeParseResult<ScheduledTransactionSummary, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ScheduledTransactionSummary$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ScheduledTransactionSummary' from JSON`,
  );
}
